import Taro, { Component } from "@tarojs/taro";
import { connect } from "@tarojs/redux";
import { View } from "@tarojs/components";
//组件 - baiduMap
import BaiduMap from "../../components/baiduMap/main";
import Dialog from "../../components/dialog";

import "./index.scss";
@connect(({ car }) => ({
  car
}))
class TraceDetail extends Component {
  config = {
    navigationBarTitleText: "轨迹详情"
  };
  componentDidMount() {
    const { choiceGuiJi } = this.props.car;

    Dialog.showLoading("加载中...");
    this.props.dispatch({
      type: "car/getCarTrance",
      payload: {
        simno: choiceGuiJi.simno,
        bdate: choiceGuiJi.inTime,
        edate: choiceGuiJi.outTime,
        mapType: 1
      }
    });
  }

  render() {
    return <View className="trace-wrap">{<BaiduMap />}</View>;
  }
}

export default TraceDetail;
