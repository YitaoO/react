import Taro, { Component } from "@tarojs/taro";
import { View, Map, CoverView, CoverImage } from "@tarojs/components";
import Arrow from "../../images/index_arrow_icon.png";
import "./markerInfo.scss";

export default class MarkerInfo extends Component {
  constructor(props) {
    super(props);

    this.handleToDetail = this.handleToDetail.bind(this);
  }

  handleToDetail = () => {
    Taro.navigateTo({ url: "/pages/traceDetail/index" });
  };
  render() {
    const { isShow, info } = this.props;

    return (
      !!isShow && (
        <CoverView class="marker-info">
          <CoverView class="center">
            <CoverView class="item">
              <CoverView class="left">
                <CoverView class="title">车牌号</CoverView>
                <CoverView class="value">{info.carNumber}</CoverView>
              </CoverView>
              <CoverView class="right">
                <CoverView class="title">类型</CoverView>
                <CoverView class="value">{info.carModel}</CoverView>
              </CoverView>
            </CoverView>
            <CoverView class="item">
              <CoverView class="left">
                <CoverView class="title">速度</CoverView>
                <CoverView class="value">
                  {info.speed}
                  km/h
                </CoverView>
              </CoverView>
              <CoverView class="right">
                <CoverView class="title">熄火</CoverView>
                <CoverView class="value">{!!info.acc ? "否" : "是"}</CoverView>
              </CoverView>
            </CoverView>
            <CoverView class="item">
              <CoverView class="left">
                <CoverView class="title">司机</CoverView>
                <CoverView class="value">
                  {!!info.driverName ? info.driverName : "无"}
                </CoverView>
              </CoverView>

              <CoverView class="right">
                <CoverView class="title">电话</CoverView>
                <CoverView class="value">
                  {!!info.driverTel ? info.driverTel : "无"}
                </CoverView>
              </CoverView>
            </CoverView>
            <CoverView class="item">
              <CoverView class="left">
                <CoverView class="title">定位时间</CoverView>
                <CoverView class="value">{info.adddate}</CoverView>
              </CoverView>
            </CoverView>
          </CoverView>

          <CoverView class="footer" onTap={this.handleToDetail}>
            <CoverView class="title">历史轨迹</CoverView>
            <CoverImage class="image" src={Arrow} />
          </CoverView>
        </CoverView>
      )
    );
  }
}
