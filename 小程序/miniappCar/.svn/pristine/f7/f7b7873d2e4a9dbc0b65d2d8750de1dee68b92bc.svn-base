/**
 * websocket
 */
class WebSockets {
  init(userId) {
    // return new Promise(function(resolve) {
    wx.connectSocket({
      url: `ws://192.168.1.94:9020/portal-car/liveWebsocket/${userId}/1`,
      data: {},
      header: {
        "content-type": "application/json"
      },
      method: "GET"
    });
    // 监听是否打开
    wx.onSocketOpen(function(res) {
      console.log("WebSocket连接已打开！");
    });
    // 监听打开错误
    wx.onSocketError(function(res) {
      console.log("WebSocket连接打开失败，请检查！");
    });
  }
}
export default new WebSockets();
